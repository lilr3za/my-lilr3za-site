<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lil R3za</title>
    <meta name="description" content="Lil R3za - متخصص پخش و مدیریت موسیقی دیجیتال. همکاری با هنرمندان برای انتشار جهانی آثار در اسپاتیفای، اپل موزیک و ...">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="icon" href="favicon.ico" sizes="any">
    <link rel="apple-touch-icon" href="apple-touch-icon.png">
</head>
<body>

    <header class="header">
        <div class="container">
            <a href="#home" class="logo">Lil R3za</a>
            <nav class="nav-menu">
                <ul>
                    <li><a href="#home" class="active">صفحه اصلی</a></li>
                    <li><a href="#services">خدمات</a></li>
                    <li><a href="#portfolio">نمونه کارها</a></li>
                    <li><a href="#about">درباره من</a></li>
                    <li><a href="#process">فرایند همکاری</a></li>
                </ul>
            </nav>
            <button id="hamburgerBtn" class="hamburger" aria-label="Toggle menu">
                <span class="hamburger-bar"></span><span class="hamburger-bar"></span><span class="hamburger-bar"></span>
            </button>
        </div>
        <div id="mobileNav" class="mobile-nav">
            <a href="#home">صفحه اصلی</a><a href="#services">خدمات</a><a href="#portfolio">نمونه کارها</a><a href="#about">درباره من</a><a href="#process">فرایند همکاری</a>
        </div>
    </header>

    <main>
        <section id="home" class="hero">
            <div class="hero-content animated">
                <h1 id="hero-headline">در حال بارگذاری...</h1>
                <p id="hero-tagline" class="tagline"></p>
                <a href="#process" class="btn">شروع همکاری</a>
            </div>
        </section>

        <section id="platforms" class="platforms">
            <div class="container">
                 <div class="section-title animated"><h2>پخش آثار شما در معتبرترین پلتفرم‌های جهانی</h2></div>
                 <div class="platforms-grid animated">
                      <img src="images/spotify.svg" alt="Spotify" class="platform-logo-static"><img src="images/apple-music.svg" alt="Apple Music" class="platform-logo-static"><img src="images/youtube-music.svg" alt="YouTube Music" class="platform-logo-static"><img src="images/deezer.svg" alt="Deezer" class="platform-logo-static"><img src="images/tidal.svg" alt="Tidal" class="platform-logo-static"><img src="images/amazon-music.svg" alt="Amazon Music" class="platform-logo-static">
                 </div>
            </div>
        </section>

        <section id="services">
            <div class="container">
                <div class="section-title animated"><h2>خدمات تخصصی من</h2></div>
                <div id="services-grid" class="services-grid"></div>
            </div>
        </section>
        
        <section id="partners-split">
            <div class="container">
                <div class="section-title animated"><h2>همکاران تجاری من</h2></div>
                <div class="split-screen-container animated">
                    <a href="https://accountsiran.com/" target="_blank" class="split-pane">
                        <div class="split-content"><img src="images/logo-accountsiran.webp" alt="Accounts Iran Logo" class="partner-logo"><h3>اکانتز ایران</h3><p>مرجع خرید اشتراک‌های پریمیوم و گیفت کارت</p><span class="btn-split">مشاهده سایت</span></div>
                    </a>
                    <a href="https://atropremium.com/" target="_blank" class="split-pane">
                        <div class="split-content"><img src="images/logo-atropremium.png" alt="Atro Premium Logo" class="partner-logo"><h3>آتروپریمیوم</h3><p>فروشگاه تخصصی اکانت‌های پریمیوم و اورجینال</p><span class="btn-split">مشاهده سایت</span></div>
                    </a>
                </div>
            </div>
        </section>

        <section id="portfolio">
            <div class="container">
                <div class="section-title animated"><h2>نمونه کارها و نتایج</h2></div>
                <div class="stats-group animated">
                    <p class="stats-intro">موفقیت همکاری‌های گذشته، بهترین گواه تخصص من است. آمار زیر خلاصه‌ای از نتایج به دست آمده است.</p>
                    <div id="stats-grid" class="stats-grid"></div>
                </div>
                <div id="playlist-container" class="sub-section animated"></div>
                <div id="featured-track-container" class="sub-section animated"></div>
            </div>
        </section>
        
        <section id="about">
             <div class="container">
                  <div class="section-title animated"><h2>درباره من</h2></div>
                  <div class="about-content animated">
                       <div class="about-image"><img id="about-image" src="" alt="Reza Portrait" loading="lazy"></div>
                       <div id="about-text-container" class="about-text"></div>
                  </div>
             </div>
        </section>

        <section id="process">
             <div class="container">
                <div class="section-title animated"><h2>فرایند همکاری</h2></div>
                <div class="process-wrapper">
                    <div class="process-step animated"><div class="step-number">01</div><div class="step-content"><h3>ارسال اولیه درخواست</h3><p>لطفاً فرم زیر را با دقت تکمیل کرده و اطلاعات خود را برای من ارسال کنید.</p></div></div>
                    <div class="process-step animated"><div class="step-number">02</div><div class="step-content"><h3>بررسی و ارزیابی</h3><p>درخواست شما به دقت بررسی خواهد شد و در صورت تایید اولیه، با شما تماس خواهم گرفت.</p></div></div>
                    <div class="process-step animated"><div class="step-number">03</div><div class="step-content"><h3>شروع همکاری رسمی</h3><p>پس از تایید نهایی، وارد فاز اجرایی می‌شویم و فرایند خدمات مورد توافق آغاز می‌شود.</p></div></div>
                </div>
                <form action="https://formspree.io/f/movklnzj" method="POST" class="contact-form animated">
                    <div class="section-title" style="margin-bottom: 30px;"><h2 style="font-size: 2rem;">فرم تماس</h2></div>
                    <div class="form-group"><input type="text" id="name" name="name" placeholder="نام شما" required dir="auto"></div>
                    <div class="form-group"><input type="email" id="email" name="email" placeholder="ایمیل شما" required></div>
                    <div class="form-group"><textarea id="message" name="message" placeholder="پیام شما (اختیاری)" dir="auto"></textarea></div>
                    <button type="submit" class="btn">ارسال درخواست</button>
                </form>
            </div>
        </section>
    </main>

    <footer class="footer">
        <div class="container">
            <div class="social-links">
                 <a href="#" target="_blank" title="LinkedIn" aria-label="LinkedIn"><i class="fab fa-linkedin"></i></a>
                 <a href="#" target="_blank" title="Instagram" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
            </div>
            <p id="contact-email"></p>
            <p>© 2025 Lil R3za. تمامی حقوق محفوظ است.</p>
        </div>
    </footer>

    <a href="#home" id="backToTopBtn" title="بازگشت به بالا"><i class="fas fa-arrow-up"></i></a>
    <button id="themeToggleBtn" title="تغییر تم"><i class="fas fa-moon"></i></button>
    <div id="successModal" class="modal-overlay"><div class="modal-content"><i class="fas fa-check-circle modal-icon"></i><h2>با موفقیت ارسال شد</h2><p>درخواست شما ثبت شد. به زودی با شما تماس خواهم گرفت.</p><button id="closeModalBtn" class="btn">بستن</button></div></div>
    
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            
            // This function contains all the interactive logic that depends on the DOM
            function initializePageLogic() {
                // Theme Toggle Logic
                const themeToggleButton = document.getElementById('themeToggleBtn');
                const body = document.body;
                const toggleIcon = themeToggleButton.querySelector('i');
                const enableLightMode = () => { body.classList.add('light-mode'); toggleIcon.classList.replace('fa-moon', 'fa-sun'); localStorage.setItem('theme', 'light'); };
                const disableLightMode = () => { body.classList.remove('light-mode'); toggleIcon.classList.replace('fa-sun', 'fa-moon'); localStorage.setItem('theme', 'dark'); };
                if (localStorage.getItem('theme') === 'light') { enableLightMode(); }
                themeToggleButton.addEventListener('click', () => { body.classList.contains('light-mode') ? disableLightMode() : enableLightMode(); });

                // Smooth scrolling
                document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                    anchor.addEventListener('click', function (e) {
                        e.preventDefault();
                        const targetElement = document.querySelector(this.getAttribute('href'));
                        if (targetElement) {
                           targetElement.scrollIntoView({ behavior: 'smooth' });
                        }
                    });
                });

                // Intersection Observer for fade-in animations
                const animatedElements = document.querySelectorAll('.animated');
                if ("IntersectionObserver" in window) {
                    const observer = new IntersectionObserver(entries => {
                        entries.forEach(entry => {
                            if (entry.isIntersecting) {
                                entry.target.classList.add('visible');
                            }
                        });
                    }, { rootMargin: '0px', threshold: 0.1 });
                    animatedElements.forEach(el => { observer.observe(el); });
                }

                // STATS COUNTER LOGIC
                const statsGrid = document.getElementById('stats-grid');
                if (statsGrid && "IntersectionObserver" in window) {
                    const animateCounter = (counterElement) => {
                        const target = +counterElement.getAttribute('data-goal');
                        if (isNaN(target)) return;
                        const duration = 2000;
                        let start = null;
                        const step = timestamp => {
                            if (!start) start = timestamp;
                            const progress = Math.min((timestamp - start) / duration, 1);
                            counterElement.innerText = Math.floor(progress * target).toLocaleString('fa-IR');
                            if (progress < 1) {
                                window.requestAnimationFrame(step);
                            } else {
                                counterElement.innerText = target.toLocaleString('fa-IR') + '+';
                            }
                        };
                        window.requestAnimationFrame(step);
                    };

                    const statObserver = new IntersectionObserver((entries) => {
                        if (entries[0].isIntersecting) {
                            const counters = statsGrid.querySelectorAll('.stat-number');
                            counters.forEach(counter => {
                                if (counter.innerText === '0') animateCounter(counter);
                            });
                            statObserver.unobserve(statsGrid);
                        }
                    }, { threshold: 0.5 });
                    if(statsGrid.children.length > 0) {
                       statObserver.observe(statsGrid);
                    }
                }

                // Mobile Menu Logic
                const hamburgerBtn = document.getElementById('hamburgerBtn');
                const mobileNav = document.getElementById('mobileNav');
                const mobileNavLinks = mobileNav.querySelectorAll('a');
                hamburgerBtn.addEventListener('click', () => { hamburgerBtn.classList.toggle('active'); mobileNav.classList.toggle('active'); document.body.classList.toggle('no-scroll'); });
                mobileNavLinks.forEach(link => { link.addEventListener('click', () => { hamburgerBtn.classList.remove('active'); mobileNav.classList.remove('active'); document.body.classList.remove('no-scroll'); }); });

                // Back to Top Button
                const backToTopButton = document.getElementById('backToTopBtn');
                window.addEventListener('scroll', () => { window.pageYOffset > 300 ? backToTopButton.classList.add('visible') : backToTopButton.classList.remove('visible'); });

                // AJAX Form Submission & Modal
                const form = document.querySelector('.contact-form');
                const modal = document.getElementById('successModal');
                const closeModalButton = document.getElementById('closeModalBtn');
                if(form) {
                    form.addEventListener('submit', function(event) {
                        event.preventDefault();
                        const submitButton = form.querySelector('button[type="submit"]');
                        submitButton.disabled = true;
                        submitButton.innerHTML = 'در حال ارسال...';
                        fetch(form.action, { method: 'POST', body: new FormData(form), headers: { 'Accept': 'application/json' }})
                        .then(response => { if (response.ok) { modal.classList.add('visible'); form.reset(); } else { alert('مشکلی در ارسال فرم پیش آمد.'); }})
                        .catch(error => { alert('یک خطای شبکه رخ داد.'); })
                        .finally(() => { submitButton.disabled = false; submitButton.innerHTML = 'ارسال درخواست'; });
                    });
                }
                if(modal) {
                    closeModalButton.addEventListener('click', () => { modal.classList.remove('visible'); });
                    modal.addEventListener('click', (event) => { if (event.target === modal) { modal.classList.remove('visible'); }});
                }
                 
                // Interactive Spotlight for Partners Box
                const partnersBox = document.querySelector('.split-screen-container');
                if (partnersBox) {
                    partnersBox.addEventListener('mousemove', e => {
                        const rect = partnersBox.getBoundingClientRect();
                        const x = e.clientX - rect.left;
                        const y = e.clientY - rect.top;
                        partnersBox.style.setProperty('--x', `${x}px`);
                        partnersBox.style.setProperty('--y', `${y}px`);
                    });
                }
            }

            // Fetch content from the local JSON file
            fetch('content.json')
                .then(response => {
                    if (!response.ok) { throw new Error('Network response was not ok. Is content.json present?'); }
                    return response.json();
                })
                .then(content => {
                    // Hero
                    document.getElementById('hero-headline').innerText = content.hero_headline || "خوش آمدید!";
                    document.getElementById('hero-tagline').innerText = content.hero_tagline || "";

                    // Services
                    const servicesGrid = document.getElementById('services-grid');
                    servicesGrid.innerHTML = ''; // Clear existing
                    content.services?.forEach(service => {
                        const card = document.createElement('div');
                        card.className = 'service-card animated';
                        card.innerHTML = `<h3>${service.title}</h3><p>${service.description}</p>`;
                        servicesGrid.appendChild(card);
                    });

                    // Portfolio Stats
                    const statsGrid = document.getElementById('stats-grid');
                    statsGrid.innerHTML = ''; // Clear existing
                    const icons = ['fa-music', 'fa-users', 'fa-clock'];
                    content.portfolio_stats?.forEach((stat, index) => {
                        const card = document.createElement('div');
                        card.className = 'stat-card';
                        card.innerHTML = `<i class="fas ${icons[index % icons.length]}"></i><h3 class="stat-number" data-goal="${stat.goal}">0</h3><p>${stat.label}</p>`;
                        statsGrid.appendChild(card);
                    });

                    // Spotify Playlist
                    const playlistContainer = document.getElementById('playlist-container');
                    if(content.spotify_playlist_url) {
                        playlistContainer.innerHTML = `<h3 class="sub-section-title">پلی‌لیست موزیک های پخش شده</h3><div class="spotify-embed-container"><iframe style="border-radius:12px" src="${content.spotify_playlist_url}" width="100%" height="352" frameBorder="0" allowfullscreen="" allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture" loading="lazy"></iframe></div>`;
                    } else { playlistContainer.innerHTML = ''; }

                    // Featured Track
                    const featuredContainer = document.getElementById('featured-track-container');
                    const featured = content.featured_track;
                    if(featured && featured.cover_art && featured.name) {
                        featuredContainer.innerHTML = `<h3 class="sub-section-title">پر بازدید ترین اثر</h3><div class="featured-track"><div class="featured-track-art"><img src="${featured.cover_art}" alt="Cover art" loading="lazy"></div><div class="featured-track-info"><h3>${featured.name}</h3><p>${featured.artist || ''}</p><a href="${featured.url || '#'}" target="_blank" class="btn"><i class="fab fa-spotify"></i> شنیدن در اسپاتیفای</a></div></div>`;
                    } else { featuredContainer.innerHTML = ''; }

                    // About Me
                    if (content.about_image) document.getElementById('about-image').src = content.about_image;
                    const aboutTextContainer = document.getElementById('about-text-container');
                    aboutTextContainer.innerHTML = `<h3>معرفی</h3><p>${content.about_intro || ''}</p><h3>تجربه و تخصص</h3><p>${content.about_experience || ''}</p><h3>بیانیه ماموریت</h3><p>${content.about_mission || ''}</p>`;
                    
                    // Footer
                    if (content.contact_email) document.getElementById('contact-email').innerText = `تماس با من: ${content.contact_email}`;

                    // Initialize all interactive scripts now that the DOM is populated
                    initializePageLogic();
                })
                .catch(error => {
                    console.error('Error loading content:', error);
                    document.getElementById('hero-headline').innerText = "خطا در بارگذاری محتوا. فایل content.json را بررسی کنید.";
                    initializePageLogic(); // Run logic anyway for static parts to work
                });
        });
    </script>
</body>
</html>